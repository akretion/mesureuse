<ion-view view-title="Réglages">
    <ion-nav-buttons side="secondary">
        <div show-login-state></div>
    </ion-nav-buttons>
    <ion-content class="padding">
        <ion-toggle ng-model="global.isLoggedIn" ng-click="!global.isLoggedIn && logout()" ng-disabled="!global.isLoggedIn">État connexion : 
            <span ng-show="global.isLoggedIn">connecté</span>
            <span ng-show="!global.isLoggedIn">pas connecté</span>
        </ion-toggle>
        
        <div class="item" ng-show="!global.isLoggedIn">
        <p>{{ error }}</p>
        <div buche-login buche-login-cb="login" buche-forgot-password-text="" buche-forgot-username-text="">buche</div>
        </div>
        <div class="item item-divider">
            Réglages
        </div>

        <label class="item item-input item-stacked-label">
            <span class="item-label">Odoo Server </span>
            <input ng-model="settings.odooServer" type="text" placeholder="Serveur Odoo"></input>
        </label>
        <label class="item item-input item-stacked-label">
            <span class="item-label">Odoo DB </span>
            <input ng-model="settings.odooDb" type="text" placeholder="Base Odoo"></input>
        </label>

        <label class="item item-input item-stacked-label">
            <span class="item-label">Local Server </span>
            <input ng-model="settings.localServer" type="text" placeholder="PC portable"></input>
        </label>
        <div class="item">
            <button class="button" ng-click="saveSettings(settings)">Enregistrer</button></div>
        </div>
        <div class="item item-divider">
            Debug
        </div>
        <div class="item" ng-show="global.isLoggedIn">
            <button class="button button-positive" ng-click="loadForm()">Recharger produits</button>
        </div>
        <div class="item"><button class="button button-assertive" ng-click="reset()">Réinitaliser</button></div>
    </ion-content>
</ion-view>
