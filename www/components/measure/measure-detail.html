<ion-view view-title="{{order.order_line.product_name }}">
  <ion-content class="padding">
  	<p>{{ order.notes}}</p>

	<div ng-show="form.length == 0">Pas de formulaire</div>

	<div class="list" ng-repeat="categorie in form">
		<div class="item-divider">{{ categorie.group_title }}</div>
		<div class="item" ng-repeat="c in categorie.questions" ng-class="{'active': measure.data[c.name]}">
			<div ng-switch="c.widget">
				<div ng-switch-when="selection"  ng-click="click(c.name, $event)">
					<div>{{c.name}}</div>
					<div class="button-bar">
						<button class="button" ng-repeat="v in c.value" ng-class="{'active': v == measure.data[c.name]}">{{ v }}</button>
					</div>
				</div>

				<div ng-switch-when="numeric" class="button-bar">
					<div>{{c.name}}</div>
					<input ng-class="{'active': !!measure.data[c.name]}" ng-model="measure.data[c.name]" type="number"></input>
				</div>
				<div ng-switch-when="number" class="button-bar">
					<div>{{c.name}}</div>
					<input ng-class="{'active': !!measure.data[c.name]}" ng-model="measure.data[c.name]" type="number"></input>
				</div>

			</div>
		</div>
	</div>

	<div resume-measures measure="measure"></div>
	<div class="list">
		<div class="item item-button-right bar">
			<button class="button button-positive icon icon-checkmark pull-right" ng-click="validate()">Enregistrer</button>
	  	</div>
	  </div>
  </ion-content>
</ion-view>
